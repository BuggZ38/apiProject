{% extends "base.html" %}
{% block content %}
<h2>Historique</h2>

<!-- üîç Filtres de date et heure -->
<form method="get" style="margin-bottom: 1em; display:flex; flex-direction:row;gap:50px;align-items:end;justify-content:center">
    <div>
        <label for="date">Date :</label>
        <input type="date" id="date" name="date" value="{{ request.args.get('date', '') }}">
    </div>

    <div>
        <label for="start_time">Heure d√©but :</label>
        <input type="time" id="start_time" name="start_time" value="{{ request.args.get('start_time', '') }}">
    </div>

    <div>
        <label for="end_time">Heure fin :</label>
        <input type="time" id="end_time" name="end_time" value="{{ request.args.get('end_time', '') }}">
    </div>

    <button type="submit" style="height:50px">Filtrer</button>
</form>

<!-- üìú Affichage de l'historique -->
<ul style="width:70vw;max-height:300px;overflow-y:auto;border: 1px solid white;" class="hist">
    {% for hist in historique %}
        <li>{{ hist }}</li>
    {% endfor %}
</ul>

<script>
    window.onload = function () {
        const wrapper = document.querySelector('.hist');
        if (wrapper) {
            wrapper.scrollTop = wrapper.scrollHeight;
        }
    };
</script>
{% endblock %}
